define("modules/app/index.es",function(require,exports,module){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function getlevel(e){return 5>e?"没有眼睛":10>e?"瞎子":15>e?"色弱":20>e?"色狼":"超级大色狼"}function restart(){score=0,time=30,_utilEventEvent.event.emit("time/update",{time:time}),_utilEventEvent.event.emit("score/update",{score:score}),_utilEventEvent.event.emit("game/restart"),timer.restart()}function init(){timer=new _timer.Timer,timer.on("tick",function(e,t){return t.time>=31e3?(timer.stop(),_zepto2["default"](".container").append(endTpl({score:score,level:getlevel(score)})),document.title="看你有多色，我竟然是"+getlevel(score)+"，我得了"+score+"分，快来挑战我吧！！！",1):void _utilEventEvent.event.emit("time/update",{time:time-parseInt(t.time/1e3,10)})}),_utilEventEvent.event.on("screen/click",function(){score+=1,_utilEventEvent.event.emit("score/update",{score:score})}),_zepto2["default"](".container").on("click","#try-again",function(){restart(),_zepto2["default"](".wgt-end").remove()}),_zepto2["default"](".container").on("click",".js-share",function(){weibo.title=qzone.desc="看你有多色，我竟然是"+getlevel(score)+"，我得了"+score+"分，快来挑战我吧！！！@颜海镜",_zepto2["default"](".container").append(shareTpl({weibo:_zepto2["default"].param(weibo),qzone:_zepto2["default"].param(qzone)}))}),_zepto2["default"](document).on("click",".pop",function(e){e.preventDefault(),_zepto2["default"](this).remove()}),_zepto2["default"](".container").on("click",".js-close-pop",function(e){e.preventDefault(),_zepto2["default"](this).closest(".pop").remove()}),_zepto2["default"](".container").on("click",".js-pop-content",function(e){e.stopPropagation()}),_zepto2["default"](".container").on("click","#share-weixin",function(){_zepto2["default"](".container").append(weixinTpl({}))}),_zepto2["default"](".container").on("click","#wgt-weixin",function(){_zepto2["default"](this).remove()}),_zepto2["default"]("#start").on("click",function(){_zepto2["default"](".wgt-home").hide(),restart()})}Object.defineProperty(exports,"__esModule",{value:!0});var _zepto=require("components/zepto/main"),_zepto2=_interopRequireDefault(_zepto),_utilEventEvent=require("modules/util/event/event.es"),_utilTemplateTemplate=require("modules/util/template/template.es"),_timer=require("modules/app/timer.es"),endTpl=function render(data){var keyArr=[],valArr=[];data=data||{},data.__encodeHTML__=window.template.__encodeHTML;for(var key in data)keyArr.push('"'+key+'"'),valArr.push(data[key]);var source="new Function("+keyArr.join(",")+', "\\"use strict\\";var __code__ = \\"\\";;__code__ += (\\"<div class=\\\\\\"wgt-end\\\\\\">     <p>经鉴定，您是:</p>     <p class=\\\\\\"score\\\\\\">         \\");__code__ += (__encodeHTML__(typeof (level) === \\"undefined\\" ? \\"\\" : level));__code__ += (\\"         LV\\");__code__ += (__encodeHTML__(typeof (score) === \\"undefined\\" ? \\"\\" : score));__code__ += (\\"     </p>     <a id=\\\\\\"try-again\\\\\\" class=\\\\\\"btn btn-primary btn-lg\\\\\\">再次挑战</a>     <a class=\\\\\\"js-share btn btn-success btn-lg\\\\\\">炫耀一下</a>     <p><a href=\\\\\\"https://github.com/yanhaijing/color/issues\\\\\\" target=\\\\\\"_blank\\\\\\">提个建议</a></p>  </div> \\");return __code__")';try{var fn=eval(source),html=fn.apply(null,valArr)}catch(e){return e.name="RenderError",e.tpl="modules/app/end.tmpl",window.template.__handelError(e),"template.js error"}return html},shareTpl=function render(data){var keyArr=[],valArr=[];data=data||{},data.__encodeHTML__=window.template.__encodeHTML;for(var key in data)keyArr.push('"'+key+'"'),valArr.push(data[key]);var source="new Function("+keyArr.join(",")+', "\\"use strict\\";var __code__ = \\"\\";;__code__ += (\\"<div class=\\\\\\"wgt-share pop\\\\\\">     <div class=\\\\\\"pop-content js-pop-content\\\\\\">         <header>             <h2>分享</h2>         </header>         <div class=\\\\\\"pop-body\\\\\\">             <p class=\\\\\\"share-btn clearfix\\\\\\">                 <a id=\\\\\\"share-weibo\\\\\\" class=\\\\\\"js-share-btn share-btn-weibo clearfix\\\\\\" href=\\\\\\"http://service.weibo.com/share/share.php?\\");__code__ += (__encodeHTML__(typeof (weibo) === \\"undefined\\" ? \\"\\" : weibo));__code__ += (\\"\\\\\\" target=\\\\\\"_blank\\\\\\">                     <span>微博</span><em></em>                 </a>                 <a id=\\\\\\"share-qq\\\\\\" class=\\\\\\"js-share-btn share-btn-qq clearfix\\\\\\" href=\\\\\\"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?\\");__code__ += (__encodeHTML__(typeof (qzone) === \\"undefined\\" ? \\"\\" : qzone));__code__ += (\\"\\\\\\" target=\\\\\\"_blank\\\\\\">                     <span>空间</span><em></em>                 </a>                 <a id=\\\\\\"share-weixin\\\\\\" class=\\\\\\"share-btn-weixin clearfix\\\\\\">                     <span>微信</span><em></em>                 </a>             </p>         </div>         <footer>             <a class=\\\\\\"btn btn-success js-close-pop\\\\\\">关闭</a>         </footer>     </div> </div> \\");return __code__")';try{var fn=eval(source),html=fn.apply(null,valArr)}catch(e){return e.name="RenderError",e.tpl="modules/app/share.tmpl",window.template.__handelError(e),"template.js error"}return html},weixinTpl=function render(data){var keyArr=[],valArr=[];data=data||{},data.__encodeHTML__=window.template.__encodeHTML;for(var key in data)keyArr.push('"'+key+'"'),valArr.push(data[key]);var source="new Function("+keyArr.join(",")+', "\\"use strict\\";var __code__ = \\"\\";;__code__ += (\\"<div id=\\\\\\"wgt-weixin\\\\\\" class=\\\\\\"wgt-weixin\\\\\\">     <div class=\\\\\\"qr\\\\\\">         <div class=\\\\\\"img\\\\\\"></div>     </div>     <div class=\\\\\\"step1 step\\\\\\">         <span class=\\\\\\"num\\\\\\">1</span>         <div>扫描上方二维码</div>         <div class=\\\\\\"img\\\\\\"></div>     </div>     <div class=\\\\\\"step2 step\\\\\\">         <span class=\\\\\\"num\\\\\\">2</span>         <div>点击右上角分享按钮</div>     </div>     <div class=\\\\\\"step3 step\\\\\\">         <span class=\\\\\\"num\\\\\\">3</span>         <div>分享给好友或朋友圈</div>     </div> </div> \\");return __code__")';try{var fn=eval(source),html=fn.apply(null,valArr)}catch(e){return e.name="RenderError",e.tpl="modules/app/weixin.tmpl",window.template.__handelError(e),"template.js error"}return html},score,time,timer,weibo={url:"http://yanhaijing.com/color/",title:"看你有多色是一款休闲小游戏，适合所有人群，找出所有色块里颜色不同的一个，快来比比你的眼力吧@颜海镜",pic:"//yanhaijing.com/color/media/6_31b8694.png"},qzone={url:"http://yanhaijing.com/color/",title:"看你有多色",summary:"看你有多色是一款休闲小游戏",desc:"看你有多色是一款休闲益智小游戏，适合所有人群，找出所有色块里颜色不同的一个，快来比比你的眼力吧",pic:"//yanhaijing.com/color/media/6_31b8694.png"};exports.init=init});